{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\danie\\\\Documents\\\\Emergentes1\\\\BigData\\\\Emergentes_BigData\\\\FrontEnd_Equipo3\\\\src\\\\components\\\\AireDashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { Line, Bar, Scatter } from \"react-chartjs-2\";\nimport { socket } from \"../socket\";\nimport { Chart, registerables } from \"chart.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nChart.register(...registerables);\nfunction AireDashboard() {\n  _s();\n  const [data, setData] = useState([]);\n  useEffect(() => {\n    let interval;\n    try {\n      // üîå Backend real (cuando est√© activo)\n      socket.on(\"nuevoDatoAire\", dato => {\n        setData(prev => [...prev.slice(-49), dato]);\n      });\n\n      // üß™ Modo simulado (sin backend)\n      interval = setInterval(() => {\n        const simulacion = {\n          time: new Date().toISOString(),\n          object: {\n            temperature: (20 + Math.random() * 8).toFixed(2),\n            humidity: (40 + Math.random() * 30).toFixed(2),\n            co2: (400 + Math.random() * 500).toFixed(0),\n            pressure: (1010 + Math.random() * 15).toFixed(2)\n          }\n        };\n        setData(prev => [...prev.slice(-49), simulacion]);\n      }, 1000);\n    } catch (err) {\n      console.warn(\"‚ö†Ô∏è Sin conexi√≥n al backend, usando datos simulados...\");\n    }\n    return () => {\n      socket.off(\"nuevoDatoAire\");\n      clearInterval(interval);\n    };\n  }, []);\n\n  // --- Datos base ---\n  const labels = data.map(d => new Date(d.time).toLocaleTimeString());\n\n  // --- 1Ô∏è‚É£ Temperatura y Humedad ---\n  const tempHum = {\n    labels,\n    datasets: [{\n      label: \"Temperatura (¬∞C)\",\n      data: data.map(d => d.object.temperature),\n      borderColor: \"tomato\",\n      fill: false\n    }, {\n      label: \"Humedad (%)\",\n      data: data.map(d => d.object.humidity),\n      borderColor: \"skyblue\",\n      fill: false\n    }]\n  };\n\n  // --- 2Ô∏è‚É£ CO‚ÇÇ ---\n  const co2Data = {\n    labels,\n    datasets: [{\n      label: \"CO‚ÇÇ (ppm)\",\n      data: data.map(d => d.object.co2),\n      borderColor: \"limegreen\",\n      fill: false\n    }]\n  };\n\n  // --- 3Ô∏è‚É£ Distribuci√≥n de presi√≥n ---\n  const pressures = data.map(d => d.object.pressure);\n  const histData = {\n    labels: pressures.slice(0, 10).map((_, i) => `Lote ${i + 1}`),\n    datasets: [{\n      label: \"Presi√≥n (hPa)\",\n      data: pressures.slice(0, 10),\n      backgroundColor: \"slateblue\"\n    }]\n  };\n\n  // --- 4Ô∏è‚É£ Mapa de correlaciones ---\n  // Simulaci√≥n de correlaciones (en versi√≥n real se calcular√≠a)\n  const corrData = {\n    labels: [\"Temp\", \"Humedad\", \"CO‚ÇÇ\", \"Presi√≥n\"],\n    datasets: [{\n      label: \"Correlaci√≥n simulada\",\n      data: [0.8, -0.2, 0.65, 0.1],\n      backgroundColor: [\"#ff6666\", \"#66ccff\", \"#33cc33\", \"#cccc33\"]\n    }]\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dashboard\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"\\uD83C\\uDF2B\\uFE0F Sensor de Calidad del Aire\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        color: \"gray\"\n      },\n      children: \"\\uD83D\\uDD01 Datos simulados (1 actualizaci\\xF3n por segundo)\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"grid\",\n        gridTemplateColumns: \"1fr 1fr\",\n        gap: \"25px\",\n        marginTop: \"20px\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          backgroundColor: \"#1e1e1e\",\n          padding: 20,\n          borderRadius: 10\n        },\n        children: /*#__PURE__*/_jsxDEV(Line, {\n          data: tempHum\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          backgroundColor: \"#1e1e1e\",\n          padding: 20,\n          borderRadius: 10\n        },\n        children: /*#__PURE__*/_jsxDEV(Line, {\n          data: co2Data\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          backgroundColor: \"#1e1e1e\",\n          padding: 20,\n          borderRadius: 10\n        },\n        children: /*#__PURE__*/_jsxDEV(Bar, {\n          data: histData\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          backgroundColor: \"#1e1e1e\",\n          padding: 20,\n          borderRadius: 10\n        },\n        children: /*#__PURE__*/_jsxDEV(Bar, {\n          data: corrData,\n          options: {\n            plugins: {\n              legend: {\n                display: false\n              }\n            }\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 5\n  }, this);\n}\n_s(AireDashboard, \"IEMTtLVFIuToo7X/raQbJAxzNQU=\");\n_c = AireDashboard;\nexport default AireDashboard;\nvar _c;\n$RefreshReg$(_c, \"AireDashboard\");","map":{"version":3,"names":["React","useEffect","useState","Line","Bar","Scatter","socket","Chart","registerables","jsxDEV","_jsxDEV","register","AireDashboard","_s","data","setData","interval","on","dato","prev","slice","setInterval","simulacion","time","Date","toISOString","object","temperature","Math","random","toFixed","humidity","co2","pressure","err","console","warn","off","clearInterval","labels","map","d","toLocaleTimeString","tempHum","datasets","label","borderColor","fill","co2Data","pressures","histData","_","i","backgroundColor","corrData","className","children","fileName","_jsxFileName","lineNumber","columnNumber","style","color","display","gridTemplateColumns","gap","marginTop","padding","borderRadius","options","plugins","legend","_c","$RefreshReg$"],"sources":["C:/Users/danie/Documents/Emergentes1/BigData/Emergentes_BigData/FrontEnd_Equipo3/src/components/AireDashboard.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Line, Bar, Scatter } from \"react-chartjs-2\";\r\nimport { socket } from \"../socket\";\r\nimport { Chart, registerables } from \"chart.js\";\r\nChart.register(...registerables);\r\n\r\nfunction AireDashboard() {\r\n  const [data, setData] = useState([]);\r\n\r\n  useEffect(() => {\r\n    let interval;\r\n    try {\r\n      // üîå Backend real (cuando est√© activo)\r\n      socket.on(\"nuevoDatoAire\", (dato) => {\r\n        setData((prev) => [...prev.slice(-49), dato]);\r\n      });\r\n\r\n      // üß™ Modo simulado (sin backend)\r\n      interval = setInterval(() => {\r\n        const simulacion = {\r\n          time: new Date().toISOString(),\r\n          object: {\r\n            temperature: (20 + Math.random() * 8).toFixed(2),\r\n            humidity: (40 + Math.random() * 30).toFixed(2),\r\n            co2: (400 + Math.random() * 500).toFixed(0),\r\n            pressure: (1010 + Math.random() * 15).toFixed(2),\r\n          },\r\n        };\r\n        setData((prev) => [...prev.slice(-49), simulacion]);\r\n      }, 1000);\r\n    } catch (err) {\r\n      console.warn(\"‚ö†Ô∏è Sin conexi√≥n al backend, usando datos simulados...\");\r\n    }\r\n    return () => {\r\n      socket.off(\"nuevoDatoAire\");\r\n      clearInterval(interval);\r\n    };\r\n  }, []);\r\n\r\n  // --- Datos base ---\r\n  const labels = data.map((d) => new Date(d.time).toLocaleTimeString());\r\n\r\n  // --- 1Ô∏è‚É£ Temperatura y Humedad ---\r\n  const tempHum = {\r\n    labels,\r\n    datasets: [\r\n      { label: \"Temperatura (¬∞C)\", data: data.map((d) => d.object.temperature), borderColor: \"tomato\", fill: false },\r\n      { label: \"Humedad (%)\", data: data.map((d) => d.object.humidity), borderColor: \"skyblue\", fill: false },\r\n    ],\r\n  };\r\n\r\n  // --- 2Ô∏è‚É£ CO‚ÇÇ ---\r\n  const co2Data = {\r\n    labels,\r\n    datasets: [\r\n      { label: \"CO‚ÇÇ (ppm)\", data: data.map((d) => d.object.co2), borderColor: \"limegreen\", fill: false },\r\n    ],\r\n  };\r\n\r\n  // --- 3Ô∏è‚É£ Distribuci√≥n de presi√≥n ---\r\n  const pressures = data.map((d) => d.object.pressure);\r\n  const histData = {\r\n    labels: pressures.slice(0, 10).map((_, i) => `Lote ${i + 1}`),\r\n    datasets: [{ label: \"Presi√≥n (hPa)\", data: pressures.slice(0, 10), backgroundColor: \"slateblue\" }],\r\n  };\r\n\r\n  // --- 4Ô∏è‚É£ Mapa de correlaciones ---\r\n  // Simulaci√≥n de correlaciones (en versi√≥n real se calcular√≠a)\r\n  const corrData = {\r\n    labels: [\"Temp\", \"Humedad\", \"CO‚ÇÇ\", \"Presi√≥n\"],\r\n    datasets: [\r\n      { label: \"Correlaci√≥n simulada\", data: [0.8, -0.2, 0.65, 0.1], backgroundColor: [\"#ff6666\", \"#66ccff\", \"#33cc33\", \"#cccc33\"] },\r\n    ],\r\n  };\r\n\r\n  return (\r\n    <div className=\"dashboard\">\r\n      <h2>üå´Ô∏è Sensor de Calidad del Aire</h2>\r\n      <p style={{ color: \"gray\" }}>üîÅ Datos simulados (1 actualizaci√≥n por segundo)</p>\r\n\r\n      <div style={{ display: \"grid\", gridTemplateColumns: \"1fr 1fr\", gap: \"25px\", marginTop: \"20px\" }}>\r\n        {/* 1Ô∏è‚É£ Temperatura y Humedad */}\r\n        <div style={{ backgroundColor: \"#1e1e1e\", padding: 20, borderRadius: 10 }}>\r\n          <Line data={tempHum} />\r\n        </div>\r\n\r\n        {/* 2Ô∏è‚É£ CO‚ÇÇ */}\r\n        <div style={{ backgroundColor: \"#1e1e1e\", padding: 20, borderRadius: 10 }}>\r\n          <Line data={co2Data} />\r\n        </div>\r\n\r\n        {/* 3Ô∏è‚É£ Histograma de Presi√≥n */}\r\n        <div style={{ backgroundColor: \"#1e1e1e\", padding: 20, borderRadius: 10 }}>\r\n          <Bar data={histData} />\r\n        </div>\r\n\r\n        {/* 4Ô∏è‚É£ Correlaciones */}\r\n        <div style={{ backgroundColor: \"#1e1e1e\", padding: 20, borderRadius: 10 }}>\r\n          <Bar data={corrData} options={{ plugins: { legend: { display: false } } }} />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AireDashboard;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,IAAI,EAAEC,GAAG,EAAEC,OAAO,QAAQ,iBAAiB;AACpD,SAASC,MAAM,QAAQ,WAAW;AAClC,SAASC,KAAK,EAAEC,aAAa,QAAQ,UAAU;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAChDH,KAAK,CAACI,QAAQ,CAAC,GAAGH,aAAa,CAAC;AAEhC,SAASI,aAAaA,CAAA,EAAG;EAAAC,EAAA;EACvB,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGb,QAAQ,CAAC,EAAE,CAAC;EAEpCD,SAAS,CAAC,MAAM;IACd,IAAIe,QAAQ;IACZ,IAAI;MACF;MACAV,MAAM,CAACW,EAAE,CAAC,eAAe,EAAGC,IAAI,IAAK;QACnCH,OAAO,CAAEI,IAAI,IAAK,CAAC,GAAGA,IAAI,CAACC,KAAK,CAAC,CAAC,EAAE,CAAC,EAAEF,IAAI,CAAC,CAAC;MAC/C,CAAC,CAAC;;MAEF;MACAF,QAAQ,GAAGK,WAAW,CAAC,MAAM;QAC3B,MAAMC,UAAU,GAAG;UACjBC,IAAI,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC;UAC9BC,MAAM,EAAE;YACNC,WAAW,EAAE,CAAC,EAAE,GAAGC,IAAI,CAACC,MAAM,CAAC,CAAC,GAAG,CAAC,EAAEC,OAAO,CAAC,CAAC,CAAC;YAChDC,QAAQ,EAAE,CAAC,EAAE,GAAGH,IAAI,CAACC,MAAM,CAAC,CAAC,GAAG,EAAE,EAAEC,OAAO,CAAC,CAAC,CAAC;YAC9CE,GAAG,EAAE,CAAC,GAAG,GAAGJ,IAAI,CAACC,MAAM,CAAC,CAAC,GAAG,GAAG,EAAEC,OAAO,CAAC,CAAC,CAAC;YAC3CG,QAAQ,EAAE,CAAC,IAAI,GAAGL,IAAI,CAACC,MAAM,CAAC,CAAC,GAAG,EAAE,EAAEC,OAAO,CAAC,CAAC;UACjD;QACF,CAAC;QACDf,OAAO,CAAEI,IAAI,IAAK,CAAC,GAAGA,IAAI,CAACC,KAAK,CAAC,CAAC,EAAE,CAAC,EAAEE,UAAU,CAAC,CAAC;MACrD,CAAC,EAAE,IAAI,CAAC;IACV,CAAC,CAAC,OAAOY,GAAG,EAAE;MACZC,OAAO,CAACC,IAAI,CAAC,uDAAuD,CAAC;IACvE;IACA,OAAO,MAAM;MACX9B,MAAM,CAAC+B,GAAG,CAAC,eAAe,CAAC;MAC3BC,aAAa,CAACtB,QAAQ,CAAC;IACzB,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;;EAEN;EACA,MAAMuB,MAAM,GAAGzB,IAAI,CAAC0B,GAAG,CAAEC,CAAC,IAAK,IAAIjB,IAAI,CAACiB,CAAC,CAAClB,IAAI,CAAC,CAACmB,kBAAkB,CAAC,CAAC,CAAC;;EAErE;EACA,MAAMC,OAAO,GAAG;IACdJ,MAAM;IACNK,QAAQ,EAAE,CACR;MAAEC,KAAK,EAAE,kBAAkB;MAAE/B,IAAI,EAAEA,IAAI,CAAC0B,GAAG,CAAEC,CAAC,IAAKA,CAAC,CAACf,MAAM,CAACC,WAAW,CAAC;MAAEmB,WAAW,EAAE,QAAQ;MAAEC,IAAI,EAAE;IAAM,CAAC,EAC9G;MAAEF,KAAK,EAAE,aAAa;MAAE/B,IAAI,EAAEA,IAAI,CAAC0B,GAAG,CAAEC,CAAC,IAAKA,CAAC,CAACf,MAAM,CAACK,QAAQ,CAAC;MAAEe,WAAW,EAAE,SAAS;MAAEC,IAAI,EAAE;IAAM,CAAC;EAE3G,CAAC;;EAED;EACA,MAAMC,OAAO,GAAG;IACdT,MAAM;IACNK,QAAQ,EAAE,CACR;MAAEC,KAAK,EAAE,WAAW;MAAE/B,IAAI,EAAEA,IAAI,CAAC0B,GAAG,CAAEC,CAAC,IAAKA,CAAC,CAACf,MAAM,CAACM,GAAG,CAAC;MAAEc,WAAW,EAAE,WAAW;MAAEC,IAAI,EAAE;IAAM,CAAC;EAEtG,CAAC;;EAED;EACA,MAAME,SAAS,GAAGnC,IAAI,CAAC0B,GAAG,CAAEC,CAAC,IAAKA,CAAC,CAACf,MAAM,CAACO,QAAQ,CAAC;EACpD,MAAMiB,QAAQ,GAAG;IACfX,MAAM,EAAEU,SAAS,CAAC7B,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC,CAACoB,GAAG,CAAC,CAACW,CAAC,EAAEC,CAAC,KAAK,QAAQA,CAAC,GAAG,CAAC,EAAE,CAAC;IAC7DR,QAAQ,EAAE,CAAC;MAAEC,KAAK,EAAE,eAAe;MAAE/B,IAAI,EAAEmC,SAAS,CAAC7B,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC;MAAEiC,eAAe,EAAE;IAAY,CAAC;EACnG,CAAC;;EAED;EACA;EACA,MAAMC,QAAQ,GAAG;IACff,MAAM,EAAE,CAAC,MAAM,EAAE,SAAS,EAAE,KAAK,EAAE,SAAS,CAAC;IAC7CK,QAAQ,EAAE,CACR;MAAEC,KAAK,EAAE,sBAAsB;MAAE/B,IAAI,EAAE,CAAC,GAAG,EAAE,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,CAAC;MAAEuC,eAAe,EAAE,CAAC,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS;IAAE,CAAC;EAElI,CAAC;EAED,oBACE3C,OAAA;IAAK6C,SAAS,EAAC,WAAW;IAAAC,QAAA,gBACxB9C,OAAA;MAAA8C,QAAA,EAAI;IAA8B;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eACvClD,OAAA;MAAGmD,KAAK,EAAE;QAAEC,KAAK,EAAE;MAAO,CAAE;MAAAN,QAAA,EAAC;IAAgD;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAAC,eAEjFlD,OAAA;MAAKmD,KAAK,EAAE;QAAEE,OAAO,EAAE,MAAM;QAAEC,mBAAmB,EAAE,SAAS;QAAEC,GAAG,EAAE,MAAM;QAAEC,SAAS,EAAE;MAAO,CAAE;MAAAV,QAAA,gBAE9F9C,OAAA;QAAKmD,KAAK,EAAE;UAAER,eAAe,EAAE,SAAS;UAAEc,OAAO,EAAE,EAAE;UAAEC,YAAY,EAAE;QAAG,CAAE;QAAAZ,QAAA,eACxE9C,OAAA,CAACP,IAAI;UAACW,IAAI,EAAE6B;QAAQ;UAAAc,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACpB,CAAC,eAGNlD,OAAA;QAAKmD,KAAK,EAAE;UAAER,eAAe,EAAE,SAAS;UAAEc,OAAO,EAAE,EAAE;UAAEC,YAAY,EAAE;QAAG,CAAE;QAAAZ,QAAA,eACxE9C,OAAA,CAACP,IAAI;UAACW,IAAI,EAAEkC;QAAQ;UAAAS,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACpB,CAAC,eAGNlD,OAAA;QAAKmD,KAAK,EAAE;UAAER,eAAe,EAAE,SAAS;UAAEc,OAAO,EAAE,EAAE;UAAEC,YAAY,EAAE;QAAG,CAAE;QAAAZ,QAAA,eACxE9C,OAAA,CAACN,GAAG;UAACU,IAAI,EAAEoC;QAAS;UAAAO,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACpB,CAAC,eAGNlD,OAAA;QAAKmD,KAAK,EAAE;UAAER,eAAe,EAAE,SAAS;UAAEc,OAAO,EAAE,EAAE;UAAEC,YAAY,EAAE;QAAG,CAAE;QAAAZ,QAAA,eACxE9C,OAAA,CAACN,GAAG;UAACU,IAAI,EAAEwC,QAAS;UAACe,OAAO,EAAE;YAAEC,OAAO,EAAE;cAAEC,MAAM,EAAE;gBAAER,OAAO,EAAE;cAAM;YAAE;UAAE;QAAE;UAAAN,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC1E,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AAAC/C,EAAA,CAjGQD,aAAa;AAAA4D,EAAA,GAAb5D,aAAa;AAmGtB,eAAeA,aAAa;AAAC,IAAA4D,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}